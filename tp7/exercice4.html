<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercice 2 - tp7</title>
</head>

<body>



    <script>
        window.onload = function () {
            // Exécutez toutes les fonctions créées ci-dessus avec des then & catch
            // Créez une fonction qui prend en paramètre une chaîne de caractère, si la chaîne de caractère fait plus de 20 caractères, la promesse échoue, sinon la fonction renvoie true
            function checkLength(str) {
                if (str.length > 20) {
                    return Promise.reject(new Error('La chaîne de caractère doit faire moins de 20 caractères'));
                } else {
                    return Promise.resolve(true);
                }
            }

            checkLength('Hello world')
                .then(function (result) {
                    console.log(result);
                })
                .catch(function (error) {
                    console.log(error);
                });

            // Créez une fonction qui prend en paramètre deux int, si la première variable est supérieure à la seconde, la promesse renvoie la différence entre les deux variables, sinon elle échoue.
            function checkDifference(a, b) {
                if (a > b) {
                    return Promise.resolve(a - b);
                } else {
                    return Promise.reject(new Error('la première variable doit être supérieure à la seconde'));
                }
            }

            checkDifference(10, 5)
                .then(function (result) {
                    console.log(result);
                })
                .catch(function (error) {
                    console.log(error);
                });

            // Créez une fonction qui prend en paramètre une date de naissance d’une personne au format DD/MM/YYYY. Si la personne est mineure, la promesse échoue, sinon elle renvoie true
            function checkAge(date) {
                var date = new Date(date);
                var today = new Date();
                var age = today.getFullYear() - date.getFullYear();
                if (age < 18) {
                    return Promise.reject(new Error('La personne doit être majeur'));
                } else {
                    return Promise.resolve(true);
                }

            }

            checkAge('01/01/2000')
                .then(function (result) {
                    console.log(result);
                })
                .catch(function (error) {
                    console.log(error);
                });


        };
    </script>
</body>

</html>